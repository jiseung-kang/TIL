# 프레임워크는 세부사항이다

> 아무리 해도 프레임워크는 아키텍처가 될 수 없다.

## 프레임워크 제작자

내가 풀려는 문제와 프레임워크가 풀려는 문제가 꽤 많이 겹칠텐데

겹치는 영역이 클수록 프레임워크는 실제로 더 유용해진다.

## 혼인 관계의 비대칭성

프레임워크 제작자 : 프레임워크를 중심에 두고 우리의 아키텍처가 그 바깥을 감싸길 기대

## 위험 요인

- 프레임워크는 의존성 규칙을 위반하는 경향이 있다.
- 프레임워크는 애플리케이션의 초기 기능을 만드는 데는 도움이 될 것이지만, 제품이 성숙해지면서 그 기능과 틀을 벗어나게 될 것
- 프레임워크는 도움되지 않는 방향으로 진화될 수 있다.
- 새롭고 더 나은 프레임워크로 바꾸고 싶을 수 있다.

## 해결책

<aside>
💡 Don’t marry Framework!

</aside>

- 프레임워크는 아키텍처의 바깥쪽 원에 속하는 세부사항
  - 안쪽 원에 들어오지 못하게 하라
- 프레임 워크가 업무 객체를 자신의 클래스를 파생하기를 요구하면 거절하라
  - 대신 프락시를 만들고 플러그인 할 수 있는 컴포넌트에 위치시켜라
- 핵심 코드 안으로 들어오지 못하게 하라
  - 핵심 코드에 플러그인할 수 있는 컴포넌트에 프레임워크를 통합하고 의존성 규칙을 준수하라
- 스프링은 훌륭한 의존성 주입 프레임 워크일텐데
  - 업무 객체가 스프링을 알게 하면 안된다.
  - 그보다 Main 컴포넌트에서 스프링을 사용해 의존성을 주입해라
  - 메인은 아키텍처 내에서 가장 지저분한 최저 수준의 컴포넌트이므로 스프링을 알아도 된다.

## 이제 선언합니다.

- C++이라면 STL과의 관계를 피할 수 없고
- 자바라면 표준 라이브러리와의 관계를 절대 피할 수 없다.
- 하지만 이 관계들에 선택적이어야 한다.

## 결론

가급적이면 프레임워크를 가능한 한 오랫동안 아키텍처 경계 너머에 두자.
