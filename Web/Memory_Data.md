# 메모리와 데이터

## 데이터 타입에 관한 배경지식

### 메모리와 데이터

- 비트
  0 또는 1만 표현할 수 있는 하나의 메모리 조각을 **비트**라고 한다.
  메모리는 매우 많은 비트들로 구성되어 있는데 각 비트는 **고유한 식별자**를 통해 위치를 확인할 수 있다.
- 바이트
  8개의 비트를 한 단위로 묶어 비트에 대한 검색 시간을 줄일 수 있다.

> 모든 데이터는 바이트 단위의 식별자. 즉 메모리 주솟값을 통해 서로를 구분하고 연결할 수 있다.

C/C++, 자바 등의 **정적 타입 언어**는 메모리의 낭비를 최소화하기 위해 데이터 타입별로 할당할 메모리 영역을 2바이트, 4바이트로 정해 놓았다.

**정적 타입 언어**

- 사전에 변수에 할당할 수 있는 데이터 타입을 선언해야 한다. (명시적 타입 선언)
- 변수의 타입을 변경할 수 없고, 타입에 맞는 값만 할당할 수 있다.
- 컴파일 시점에 타입 체크를 수행한다.
- 타입의 일관성을 강제해 안정적인 코드 구현을 통해 런타임 에러를 줄인다.
  ex. C, C++, Java, Kotlin, Go, Haskell, Rust, Scala

메모리 용량이 커지면서 자바스크립트는 상대적으로 메모리 공간을 넉넉하게 할당했다.
숫자의 경우 정수형이든 부동소수형이든 64비트(8바이트)를 확보한다. 문자열은 규격이 없다.

**동적 타입 언어**

- 자바스크립트는 변수를 선언할 때 타입을 선언하지 않는다.
  다만 `var`, `let`, `const` 키워드를 사용해 변수를 선언하며 어떠한 데이터 값이라도 자유롭게 할당할 수 있다.
- 자바스크립트의 변수는 선언이 아닌 할당에 의해 타입이 결정(타입 추론)된다.
- 재할당에 의해 변수의 타입은 언제든지 동적으로 변할 수 있다. (동적 타이핑)
  ex. JavaScript, Python, PHP, Ruby, Lisp, Perl

### 데이터 타입의 필요성

### 데이터 타입에 의한 메모리 공간의 확보와 참조

> 값은 메모리에 저장하고 참조할 수 있어야 한다.

**값의 저장**
자바스크립트 엔진은 데이터 타입, 즉 값의 종류에 따라 정해진 크기의 메모리 공간을 확보하고 저장한다.

**값의 참조**
값을 참조하려면 한 번에 읽어 들여야 할 메모리 공간의 크기(메모리 셀의 개수)를 알아야 한다.
자바스크립트 엔진은 변수가 숫자 타입의 값이라면 8바이트 단위로 메모리 공간에 저장된 값을 읽어 들인다.

**데이터 타입에 의한 값의 해석**
메모리에 저장된 값은 데이터 타입에 따라 다르게 해석될 수 있다.

정리하자면 데이터 타입이 필요한 이유는 다음과 같다.

1. 값을 저장할 때 확보해야 하는 **메모리 공간의 크기**를 결정하기 위해
2. 값을 참조할 때 한 번에 읽어 들여야 할 **메모리 공간의 크기**를 결정하기 위해
3. 메모리에서 읽어 들인 **2진수를 어떻게 해석**할지 결정하기 위해

## 변수 선언과 데이터 할당

### 식별자와 변수

**변수** : 변할 수 있는 수. 변할 수 있는 데이터
**식별자** : 어떤 데이터를 식별하는 데 사용하는 이름. 변수명

### 변수 선언

**변수** : 변경 가능한 데이터가 담길 수 있는 공간 또는 그릇

```jsx
var a;
```

컴퓨터는 메모리의 비어있는 공간 하나를 확보해 공간의 이름(식별자)을 a라고 지정한다.

### 데이터 할당

```jsx
var a; // 변수 a 선언
a = "abc"; // 변수 a에 데이터 할당

var a = "abc"; // 변수 선언과 할당을 한 문장으로 표현
```

1. 변수 영역에서 빈 공간(A) 확보
2. 확보한 공간의 식별자를 a로 지정
3. 데이터 영역의 빈 공간(B)에 문자열 'abc'를 저장
4. 변수 영역에서 a라는 식별자를 검색(A)
5. 앞서 저장한 문자열의 주소(B)를 (A) 공간에 대입(연결)

효율적으로 가변적인 메모리, 중복된 데이터를 저장하기 위해 자바스크립트는 위와 같이 데이터를 할당한다.

### 동적 타입 언어와 변수

동적 타입 언어의 특징? 편리함

**편리함의 이면**
동적 타입 언어의 변수는 값의 변경에 의해 타입도 언제든지 변경될 수 있다.
개발자의 의도와 상관없이 자바스크립트 엔진에 의해 암묵적으로 타입이 자동적으로 변환될 수 있다.
=> 높은 유연성, 낮은 신뢰성

**변수를 사용할 때 주의할 사항**

1. 변수는 꼭 필요한 경우에 한해 제한적으로 사용한다.
2. 변수의 유효 범위(스코프)는 최대한 좁게 만들어 부작용을 억제한다.
3. 전역 변수는 최대한 사용하지 않는다.
4. 변수보다 상수를 사용해 값의 변경을 억제한다.
5. 변수 이름은 목적이나 의미를 알 수 있도록 네이밍 한다.

## 참고 자료

코어자바스크립트
